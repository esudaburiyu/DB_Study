#2013春 午前2

##問9 トランザクションの隔離性水準について
トランザクションの隔離性水準のうち、次の(1)、(2)に該当するSQLの指定はどれか

(1)対象の表のダーティリードは回避できる
(2)一つのトランザクション中で、対象の表のある行を2回以上参照する場合、一回目の読み込みの列値と二回目の読み込みの列値が同じであることが保証されない

1. READ COMMITTED
2. READ UNCOMMITTED
3. REPEATABLE READ
4. SERIALIZABLE

答え 1

(2)のような症状をアンリピータブルリードという。
READ COMMITTEDでは、ダーティリードは防ぐことができるが、アンリピータブルリードを防ぐことはできない。

## 問10 トランザクションのデットロックについて


##問13 二相コミットについて（分散データベース）
######二相コミットをもうちょっと詳しく、ステップバイステップで理解する必要がある。そうしないと、どこで障害が起こった時にやばいのか、理解できない。

##問14 データベースの障害回復処理に関する記述のうち、適切なものはどれか?

1. 異なるトランザクション処理プログラムが、同一データベースを同時更新することによって生じる論理的な矛盾を防ぐために、データのブロック化が必要となる。

そもそも、データのブロック化とはなにか?

2. システムが媒体障害以外の原因によって停止した場合、チェックポイントの取得以前に終了したトランザクションについての回復作業は不要である。

チェックポイントを取得した時点で、ハードにデータが保存されるので、ハードが壊れていない限りは、チェックポイント取得以前に終了したトランザクションの回復処理は必要ない。

3. データベースの媒体障害に対して、バックアップファイルをリストアした後、ログファイルの更新前情報を使用してデータの回復処理を行う。

コミットされたトランザクションは、回復する必要があるので、ログファイルの更新後情報を用いる必要があることもある。

4. トランザクション処理プログラムがデータベースの更新中に異常終了した場合には、ログファイルの更新後情報を使用してデータの回復処理を行う。

トランザクション中の異状終了だと、そのトランザクションはロールバックしなければならないので、更新前情報でデータの回復処理を行う。

##問15 B+木インデックスとビットマップインデックスを比較した説明のうち、適切なものはどれか。

1. AND, OR操作だけで行える検索はB+木インデックスのほうが有効である。

AND,ORで行える検索は、ビットマップのほうが有効。

2. BETWEENを用いた範囲指定検索はビットマップインデックスのほうが有効である。

BETWEENを用いた範囲指定検索が有利なのはどれ?

3. NOTを用いた否定検索はB+木インデックスのほうが有効である。

NOTを用いた否定検索はビットマップインデックスのほうが有効

4. 少数の異なる値をもつ列への検索はビットマップインデックスのほうが有効である

これは、そのとおり。

[性能改善の鍵，インデックスの特性を知る](http://gihyo.jp/dev/serial/01/sql_academy2/000701)